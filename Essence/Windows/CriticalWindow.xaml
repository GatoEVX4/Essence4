<Window
    x:Class="Essence.Windows.CriticalWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:gif="http://wpfanimatedgif.codeplex.com"
    xmlns:local="clr-namespace:Essence"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    x:Name="MainWin"
    Title="Essence"
    Width="500"
    Height="400"
    AllowsTransparency="True"
    Background="Black"
    BorderBrush="#FF454545"
    BorderThickness="1"
    Closing="MainWin_Closing"
    Foreground="#FF939292"
    Icon="/Graphics/Images/essence.ico"
    Loaded="MainWin_Loaded"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">
    <FrameworkElement.Triggers>

        <EventTrigger RoutedEvent="Window.Unloaded">
            <BeginStoryboard>
                <Storyboard Name="FormFadeOut" Completed="CloseWindow">
                    <DoubleAnimation
                        Name="FormFadeOutAnimation"
                        AutoReverse="False"
                        RepeatBehavior="1x"
                        Storyboard.TargetName="MainWin"
                        Storyboard.TargetProperty="(Window.Opacity)"
                        From="1.0"
                        To="0.0"
                        Duration="0:0:0.5" />
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>

    </FrameworkElement.Triggers>
    <FrameworkElement.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <materialDesign:BundledTheme
                    BaseTheme="Dark"
                    PrimaryColor="Red"
                    SecondaryColor="Red" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <Style
                x:Key="{x:Type Button}"
                BasedOn="{StaticResource MaterialDesignRaisedButton}"
                TargetType="{x:Type Button}" />
            <ControlTemplate x:Key="NoHighlightBut" TargetType="{x:Type ButtonBase}">
                <Border
                    x:Name="border"
                    Background="{TemplateBinding Background}"
                    BorderBrush="{TemplateBinding BorderBrush}"
                    BorderThickness="{TemplateBinding BorderThickness}"
                    SnapsToDevicePixels="True">
                    <ContentPresenter
                        x:Name="contentPresenter"
                        Margin="{TemplateBinding Padding}"
                        HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                        VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                        Content="{TemplateBinding Content}"
                        ContentStringFormat="{TemplateBinding ContentStringFormat}"
                        ContentTemplate="{TemplateBinding ContentTemplate}"
                        Focusable="False"
                        RecognizesAccessKey="True"
                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
                <ControlTemplate.Triggers>
                    <Trigger Property="Button.IsDefaulted" Value="True">
                        <Setter TargetName="border" Property="BorderBrush" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}" />
                    </Trigger>

                    <Trigger Property="ToggleButton.IsChecked" Value="True">
                        <Setter TargetName="border" Property="Background" Value="#282828" />
                        <Setter TargetName="border" Property="BorderBrush" Value="#282828" />
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter TargetName="border" Property="Background" Value="#FFF4F4F4" />
                        <Setter TargetName="border" Property="BorderBrush" Value="#FFADB2B5" />
                        <Setter Property="Foreground" Value="#FF838383" />
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ResourceDictionary>

    </FrameworkElement.Resources>
    <Grid Background="#02000000" MouseLeftButtonDown="Rectangle_MouseDown">
        <Image
            x:Name="CloseBtn"
            Width="18"
            Height="18"
            Margin="0,24,20,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Cursor="Hand"
            MouseLeftButtonDown="ExitMD"
            Opacity="0.9"
            OpacityMask="#FF454545"
            RenderOptions.BitmapScalingMode="HighQuality"
            Source="/Graphics/Images/MainExecution/CloseWindowIcon.png">
            <Image.Style>
                <Style TargetType="{x:Type Image}">
                    <Style.Triggers>
                        <EventTrigger RoutedEvent="UIElement.MouseEnter">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        BeginTime="0:0:0"
                                        Storyboard.TargetProperty="Opacity"
                                        From="0.6"
                                        To="1"
                                        Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="UIElement.MouseLeave">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        BeginTime="0:0:0"
                                        Storyboard.TargetProperty="Opacity"
                                        From="1"
                                        To="0.6"
                                        Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Style.Triggers>
                </Style>
            </Image.Style>
        </Image>
        <Image
            x:Name="MinimizeBtn"
            Width="22"
            Height="22"
            Margin="0,0,30,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Center"
            Cursor="Hand"
            MouseLeftButtonDown="Mini"
            Opacity="0.9"
            OpacityMask="#FF454545"
            RenderOptions.BitmapScalingMode="HighQuality"
            Source="/Graphics/Images/MainExecution/minimize.png"
            Visibility="Collapsed">
            <Image.Style>
                <Style TargetType="{x:Type Image}">
                    <Style.Triggers>
                        <EventTrigger RoutedEvent="UIElement.MouseEnter">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        BeginTime="0:0:0"
                                        Storyboard.TargetProperty="Opacity"
                                        From="0.6"
                                        To="1"
                                        Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                        <EventTrigger RoutedEvent="UIElement.MouseLeave">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation
                                        BeginTime="0:0:0"
                                        Storyboard.TargetProperty="Opacity"
                                        From="1"
                                        To="0.6"
                                        Duration="0:0:0.2" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Style.Triggers>
                </Style>
            </Image.Style>
        </Image>

        <Border
            Height="300"
            Margin="20,0,20,40"
            VerticalAlignment="Bottom"
            Background="Black"
            BorderBrush="#FF454545"
            BorderThickness="1"
            CornerRadius="5">
            <Grid>
                <Border
                    Height="30"
                    VerticalAlignment="Top"
                    Background="#FF1E1E1E"
                    BorderBrush="#FF969696"
                    BorderThickness="0,0,0,0.5"
                    CornerRadius="5, 5, 0, 0">
                    <Grid>
                        <TextBlock
                            Margin="10,4,0,0"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Top"
                            FontFamily="Segoe UI Semibold"
                            FontSize="16"
                            FontWeight="Bold"
                            Foreground="Gainsboro"
                            Text="Output"
                            TextAlignment="Center" />
                        <TextBlock
                            x:Name="copied"
                            Margin="0,7,35,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Top"
                            FontFamily="Arial"
                            FontSize="14"
                            Foreground="#FFBABABA"
                            Opacity="0"
                            Text="Copied"
                            TextAlignment="Center" />

                        <Button
                            x:Name="CopyBtn"
                            Width="25"
                            Height="25"
                            Margin="0,0,3,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            materialDesign:ButtonAssist.CornerRadius="5"
                            Background="#FF1E1E1E"
                            BorderThickness="0"
                            Click="CopyBtn_Click"
                            Content="{materialDesign:PackIcon ContentCopy}"
                            Foreground="#FFE6E6E6"
                            Style="{StaticResource MaterialDesignFlatDarkBgButton}" />
                    </Grid>
                </Border>







                <TextBox
                    x:Name="error_box"
                    Margin="5,30,5,5"
                    VerticalContentAlignment="Top"
                    Background="{x:Null}"
                    BorderThickness="0"
                    Foreground="White"
                    IsReadOnly="True"
                    SelectionBrush="#FF3C3C3C"
                    Text="sorry for this bro. Don't hesitate to contact me if this keeps popping up Getting error information..."
                    TextWrapping="Wrap" />
            </Grid>
        </Border>

        <Button
            x:Name="Restart"
            Height="30"
            Margin="20,0,20,5"
            VerticalAlignment="Bottom"
            materialDesign:ButtonAssist.CornerRadius="5"
            Background="#FF1E1E1E"
            BorderThickness="0"
            Click="Restart_Click"
            Content="Restart Essence"
            Foreground="#FFE6E6E6"
            Style="{StaticResource MaterialDesignFlatDarkBgButton}" />
        <TextBlock
            x:Name="Status_Label_Copiar1"
            Margin="20,20,0,0"
            HorizontalAlignment="Left"
            VerticalAlignment="Top"
            FontFamily="Big John"
            FontSize="18"
            Foreground="Gainsboro"
            Text="ESSENCE CRASHED"
            TextAlignment="Center" />

    </Grid>
</Window>
