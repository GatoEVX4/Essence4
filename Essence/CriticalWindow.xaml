<Window x:Class="Essence.CriticalWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:local="clr-namespace:Essence"
        xmlns:gif="http://wpfanimatedgif.codeplex.com"
        mc:Ignorable="d"
        x:Name="MainWin"
        Title="Essence"
        Width="500" Height="400"    
        Foreground="#FF939292"
        AllowsTransparency="True"
        WindowStyle="None"
        Icon="/essence.ico"
        Loaded="MainWin_Loaded"
        Closing="MainWin_Closing" WindowStartupLocation="CenterScreen" Background="Black">
    <FrameworkElement.Triggers>

        <EventTrigger RoutedEvent="Window.Unloaded">
            <BeginStoryboard>
                <Storyboard Name="FormFadeOut" Completed="CloseWindow">
                    <DoubleAnimation Name="FormFadeOutAnimation" Storyboard.TargetName="MainWin" Storyboard.TargetProperty="(Window.Opacity)" From="1.0" To="0.0" Duration="0:0:0.5" AutoReverse="False" RepeatBehavior="1x" />
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>

    </FrameworkElement.Triggers>
    <FrameworkElement.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <materialDesign:BundledTheme BaseTheme="Dark" PrimaryColor="Red" SecondaryColor="Red" />
                <ResourceDictionary Source="pack://application:,,,/MaterialDesignThemes.Wpf;component/Themes/MaterialDesignTheme.Button.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <Style x:Key="{x:Type Button}" TargetType="{x:Type Button}" BasedOn="{StaticResource MaterialDesignRaisedButton}" />
            <ControlTemplate x:Key="NoHighlightBut" TargetType="{x:Type ButtonBase}">
                <Border x:Name="border" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Background="{TemplateBinding Background}" SnapsToDevicePixels="True">
                    <ContentPresenter x:Name="contentPresenter" ContentTemplate="{TemplateBinding ContentTemplate}" Content="{TemplateBinding Content}" ContentStringFormat="{TemplateBinding ContentStringFormat}" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                </Border>
                <ControlTemplate.Triggers>
                    <Trigger Property="Button.IsDefaulted" Value="True">
                        <Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                    </Trigger>

                    <Trigger Property="ToggleButton.IsChecked" Value="True">
                        <Setter Property="Background" TargetName="border" Value="#282828"/>
                        <Setter Property="BorderBrush" TargetName="border" Value="#282828"/>
                    </Trigger>
                    <Trigger Property="IsEnabled" Value="False">
                        <Setter Property="Background" TargetName="border" Value="#FFF4F4F4"/>
                        <Setter Property="BorderBrush" TargetName="border" Value="#FFADB2B5"/>
                        <Setter Property="Foreground" Value="#FF838383"/>
                    </Trigger>
                </ControlTemplate.Triggers>
            </ControlTemplate>
        </ResourceDictionary>

    </FrameworkElement.Resources>
    <Grid>
        <Border x:Name="Topbar" Height="40" VerticalAlignment="Top" MouseLeftButtonDown="Rectangle_MouseDown" Background="#02000000" >
            <Grid>
                <Image RenderOptions.BitmapScalingMode="HighQuality" Width="30" Height="30" HorizontalAlignment="Left" VerticalAlignment="Center" Source="/essence.png" Margin="11,0,0,0"/>


                <Image x:Name="UtilitiesPage_Copy" Height="24" VerticalAlignment="Center" Source="/ImageResources/MainExecution/CloseWindowIcon.png" OpacityMask="#FF454545" Opacity="0.6" Cursor="Hand" HorizontalAlignment="Right" Width="24" MouseLeftButtonDown="ExitMD" Margin="0,0,10,0" RenderOptions.BitmapScalingMode="HighQuality">
                    <Image.Style>
                        <Style TargetType="{x:Type Image}">
                            <Style.Triggers>
                                <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.6" To="1" BeginTime="0:0:0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.6" BeginTime="0:0:0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Style.Triggers>
                        </Style>
                    </Image.Style>
                </Image>
                <Image x:Name="UtilitiesPage_Copy1" Height="30" Margin="0,0,50,16" Source="ImageResources/MainExecution/MinimiseIcon.png" RenderOptions.BitmapScalingMode="HighQuality" RenderOptions.EdgeMode="Aliased" OpacityMask="#FF454545" Opacity="0.6" VerticalAlignment="Center" StretchDirection="DownOnly" Cursor="Hand" HorizontalAlignment="Right" Width="21" MouseLeftButtonDown="Mini">
                    <Image.Style>
                        <Style TargetType="{x:Type Image}">
                            <Style.Triggers>
                                <EventTrigger RoutedEvent="UIElement.MouseEnter">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.6" To="1" BeginTime="0:0:0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="UIElement.MouseLeave">
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.6" BeginTime="0:0:0" Duration="0:0:0.2" />
                                        </Storyboard>
                                    </BeginStoryboard>
                                </EventTrigger>
                            </Style.Triggers>
                        </Style>
                    </Image.Style>
                </Image>

                <Border x:Name="Status_Border" Width="200" Height="20" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Grid >
                        <TextBlock x:Name="Status_Label" Text=":( Sorry For that" VerticalAlignment="Center" Foreground="Gainsboro" FontFamily="Segoe UI Semibold" FontSize="16"  HorizontalAlignment="Center" TextAlignment="Center" FontWeight="Bold"/>
                    </Grid>
                </Border>

            </Grid>
        </Border>

        <Image Width="120" Height="120" VerticalAlignment="Top" Margin="0,75,0,0" HorizontalAlignment="Center" gif:ImageBehavior.AnimatedSource="ImageResources/Exeptions/bunny.gif" Source="/ImageResources/Exeptions/bunny.gif"/>
        <Border Width="130" Height="130" CornerRadius="10" BorderThickness="6" HorizontalAlignment="Center" VerticalAlignment="Top" Margin="0,70,0,0" BorderBrush="Black"/>

        <Border BorderThickness="0.7" CornerRadius="10" Width="480" Height="160" Background="Black" VerticalAlignment="Bottom" HorizontalAlignment="Center" Margin="0,0,0,40" BorderBrush="#FF969696">
            <Grid>
                <Border Background="#FF141414" BorderThickness="0, 0, 0, 0.5" Height="30" VerticalAlignment="Top" CornerRadius="10, 10, 0, 0" BorderBrush="#FF969696"/>

                <TextBlock Text="Console Output" VerticalAlignment="Top" Foreground="Gainsboro" FontFamily="Segoe UI Semibold" FontSize="16"  HorizontalAlignment="Left" TextAlignment="Center" FontWeight="Bold" Margin="10,4,0,0"/>
                <TextBlock x:Name="copied" Text="Copied" VerticalAlignment="Top" Foreground="#FFBABABA" FontFamily="Arial" FontSize="14"  HorizontalAlignment="Right" TextAlignment="Center" Margin="0,7,35,0" Opacity="0"/>


                <Button x:Name="CopyBtn" Margin="0,3,6,0" Click="CopyBtn_Click" Template ="{DynamicResource NoHighlightBut}" BorderBrush="#00A5A5A5" RenderTransformOrigin="0.5,0.5" FontSize="11" Opacity="0.75" Width="24" Height="24" HorizontalAlignment="Right" VerticalAlignment="Top">
                    <Button.Background>
                        <ImageBrush RenderOptions.BitmapScalingMode="LowQuality" ImageSource="/ImageResources/ScriptHub/copiar.png"/>
                    </Button.Background>
                    <Button.Style>
                        <Style TargetType="Button">
                            <Style.Triggers>
                                <EventTrigger RoutedEvent="MouseEnter">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="0.75" To="1" BeginTime="0:0:0" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                                <EventTrigger RoutedEvent="MouseLeave">
                                    <EventTrigger.Actions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetProperty="Opacity" From="1" To="0.75" BeginTime="0:0:0" Duration="0:0:0.2"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger.Actions>
                                </EventTrigger>
                            </Style.Triggers>
                        </Style>
                    </Button.Style>
                    <Button.RenderTransform>
                        <TransformGroup>
                            <ScaleTransform ScaleY="-1" ScaleX="-1"/>
                            <SkewTransform/>
                            <RotateTransform Angle="-179.832"/>
                            <TranslateTransform/>
                        </TransformGroup>
                    </Button.RenderTransform>
                </Button>


                <TextBox x:Name="error_box" BorderThickness="0" IsReadOnly="True" Background="{x:Null}" Text="sorry for this bro. Don't hesitate to contact me if this keeps popping up&#x0a;Getting error information..." Foreground="White" FontSize="14" SelectionBrush="#FF3C3C3C" Margin="0,30,0,0" />
            </Grid>
        </Border>

        <Button x:Name="Restart" BorderThickness="0" Style="{StaticResource MaterialDesignFlatDarkBgButton}" Click="Restart_Click" Content="Restart Essence" HorizontalAlignment="Center" Margin="0,0,0,5" VerticalAlignment="Bottom" Width="150" Height="28" Foreground="#FFE6E6E6" Background="#FF1E1E1E"/>
        <TextBlock x:Name="Status_Label_Copiar1" Text="Critical Error Detected" VerticalAlignment="Top" Foreground="Gainsboro" FontFamily="Big John" FontSize="18"  HorizontalAlignment="Center" TextAlignment="Center" Margin="0,45,0,0"/>

    </Grid>
</Window>
